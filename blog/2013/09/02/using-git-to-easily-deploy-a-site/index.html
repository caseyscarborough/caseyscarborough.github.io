<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Using Git to Easily Deploy a Site &middot; caseyscarborough.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/favicon.ico" type="image/png">

    <link href="/assets/stylesheets/app-41952057.css" rel="stylesheet" type="text/css" />
    <script src="/assets/javascripts/app-cb948978.js" type="text/javascript"></script>
</head>
    <body>

    <div id="wrap">
      <header class="navbar navbar-inverse navbar-fixed-top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".cs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">CASEY SCARBOROUGH</a>
    </div>
    <nav class="collapse navbar-collapse cs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li><a href="/">Home</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="https://github.com/caseyscarborough" target="_blank">GitHub</a></li>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="/activity/">Activity</a></li>
      </ul>
    </nav>
  </div>
</header>

      <div class="content">
        <br>
        <div class="container">
          <div class="row">
            <div class="col-md-2 hidden-sm"></div>
            <div class="col-md-8">
              <h2>Using Git to Easily Deploy a Site</h2>
              <p class="meta">02 Sep 2013 &middot; By <a href="mailto:caseyscarborough@gmail.com">Casey Scarborough</a></p>

              <div class="post">
                <p><a href="http://git-scm.com">Git</a> is a very powerful and full featured version control system. If you aren&#39;t using it, <a href="http://www.makeuseof.com/tag/git-version-control-youre-developer/">you should be</a>. In addition to tracking development changes, allowing easy collaboration, and many other features, it can be used to easily deploy your site (or any other content for that matter) to a server. For example, updating your site can be as simple as these steps:</p>

<pre><code class="bash"># Make changes to site...$ git add .
git commit -m &quot;Add awesome new feature.&quot;
git push
</code></pre>

<p>And your changes will be live! To make it better, only the changes that you&#39;ve made in your commit will be changed, so your files will not have to be continuously reuploaded. Let&#39;s get started.</p>

<h3>On the Server</h3>

<p>To begin, you&#39;ll want to create a place on your server to deploy your site to. Start by opening an SSH connection with your server and creating a directory to hold your repository.</p>

<pre><code class="bash">ssh user@example.com$ mkdir site.git &amp;&amp; cd site.git

# Initialize a bare repository and create a directory to hold your site.
git init --bare
mkdir www
</code></pre>

<p>You&#39;ll then want to create a post-receive <a href="http://git-scm.com/book/ch7-3.html">Git Hook</a> to checkout the latest files into our <code>www</code> directory after pushing our latest commit. From inside of your <code>site.git</code> folder, create a file in the <code>hooks</code> directory called <code>post-receive</code>.</p>

<pre><code class="bash">vim hooks/post-receive
</code></pre>

<p>Then, add the following contents to the file:</p>

<pre><code class="bash">#!/bin/shGIT_WORK_TREE=./www git checkout -f
</code></pre>

<p>Then <code>chmod</code> the script to make it executable.</p>

<pre><code class="bash">chmod +x hooks/post-receive
</code></pre>

<p>That&#39;s all for the server configuration. Now to move onto our local machine.</p>

<h3>Local Changes</h3>

<p>If you don&#39;t already have a repository or site that you are ready to deploy, you can begin by creating your repository. Otherwise, you can skip to the next section.</p>

<pre><code class="bash">mkdir my-website &amp;&amp; cd my-website$ git init
echo &#39;Under MAJOR construction.&#39; &gt; index.html
git add .
git commit -m &quot;Initial commit.&quot;
</code></pre>

<p>Otherwise, you can just initialize a repository (if it doesn&#39;t exist yet) in your existing site&#39;s directory.</p>

<pre><code class="bash">$ cd [path-to-your-site]$ git init
$ git add .
$ git commit -m &quot;Initial commit.&quot;
</code></pre>

<h4>Connect with Your Remote Repository</h4>

<p>The last step before deployment is to connect your local repository to your remote repository. Add a remote named <em>origin</em> and point it to the path of the repository created earlier on your server.</p>

<pre><code class="bash">$ git remote add origin user@example.com:[path-to-repo]/site.git
</code></pre>

<p>That&#39;s it! The final step is to deploy your site.</p>

<pre><code class="bash">$ git push origin master
</code></pre>

<p>Your repository will then be pushed to your remote server, and your files will be in the <code>www</code> directory created earlier. This will greatly increase the ease of future deployments, as well as help by keeping your site versioned. The last step is just to make sure your server&#39;s Virtual Host configuration points to your <code>www</code> directory.</p>

<h3>Resources</h3>

<ul>
<li><a href="http://git-scm.org">Git</a></li>
<li><a href="http://git-scm.com/book/ch7-3.html">Git Hooks</a></li>
</ul>

              </div>
              <br>
                <div class="comments">
                  <div id="disqus_thread"></div>
                  <script type="text/javascript">
                    var disqus_shortname = 'caseyscarboroughcom'; 
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                  </script>
                  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
  <div class="row">
    <div class="col-md-3 hidden-sm"></div>
    <div class="col-md-6">
      <div class="footer">
        <p class="pull-left icons">
          <a target="_blank" class="tooltip-link" title="Email" href="mailto:caseyscarborough@gmail.com"><i class="fa fa-envelope"></i></a>&nbsp;&nbsp;
          <a target="_blank" class="tooltip-link" title="GitHub" href="https://github.com/caseyscarborough/"><i class="fa fa-github"></i></a>&nbsp;&nbsp;
          <a target="_blank" class="tooltip-link" title="BitBucket" href="https://bitbucket.org/caseyscarborough/"><i class="fa fa-bitbucket"></i></a>&nbsp;&nbsp;
          <a target="_blank" class="tooltip-link" title="LinkedIn" href="https://linkedin.com/in/caseyscarborough"><i class="fa fa-linkedin"></i></a>&nbsp;&nbsp;
          <a target="_blank" class="tooltip-link" title="Google+" href="https://plus.google.com/103526747321763836028?rel=author"><i class="fa fa-google-plus"></i></a>
        </p>
        <p class="pull-right">
          <small class="meta">Contribute to this site on <a target="_blank" href="https://github.com/caseyscarborough/caseyscarborough.github.io">GitHub</a>.</small><br>
        </p>
      </div>
    </div>
  </div>
</div>
    </body>
</html>
